FROM python:3.10-bullseye
WORKDIR /code
COPY ./requirements.txt /code/requirements.txt
RUN apt-get update && apt-get install -y cron python3-venv python3-pip
COPY ./src /code
COPY ./grocerywebcrawler.sh /code/grocerywebcrawler.sh
RUN chmod +x /code/grocerywebcrawler.sh
COPY ./mycrontab /code/mycrontab
RUN touch /var/log/cron.log
RUN crontab /code/mycrontab
CMD cron && tail -f /var/log/cron.log